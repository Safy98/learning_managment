<div class="w-full flex flex-col justify-start items-center">
  <h1 class="page-title mb-4 w-full text-start md:mb-8">Admin Dashboard</h1>

  <div class="grid w-full grid-cols-1 gap-4 md:grid-cols-2 xl:grid-cols-4">
    <div class="rounded-2xl bg-gradient-to-br from-amaranth-500 to-amaranth-700 p-5 text-white-50 shadow-lg">
      <h2 class="text-sm font-semibold uppercase tracking-wide text-amaranth-100">Sign Ups</h2>
      <p class="mt-2 text-3xl font-bold">
          <%= @quick_stats[:sign_ups] %>
      </p>
    </div>
    <div class="rounded-2xl bg-gradient-to-br from-camelot-500 to-camelot-700 p-5 text-white-50 shadow-lg">
      <h2 class="text-sm font-semibold uppercase tracking-wide text-camelot-100">Sales</h2>
      <p class="mt-2 text-3xl font-bold">
          <%= @quick_stats[:sales] %>
      </p>
    </div>
    <div class="rounded-2xl bg-gradient-to-br from-green-500 to-green-700 p-5 text-white-50 shadow-lg">
      <h2 class="text-sm font-semibold uppercase tracking-wide text-green-100">Lessons Done</h2>
      <p class="mt-2 text-3xl font-bold">
          <%= @quick_stats[:completed_lessons] %>
      </p>
    </div>
    <div class="rounded-2xl bg-gradient-to-br from-orange-500 to-orange-700 p-5 text-white-50 shadow-lg">
      <h2 class="text-sm font-semibold uppercase tracking-wide text-orange-100">Total Sign Ups</h2>
      <p class="mt-2 text-3xl font-bold">
          <%= @quick_stats[:total_sign_ups] %>
      </p>
    </div>
  </div>

  <div class="mt-8 flex w-full flex-col items-center justify-between gap-6 md:flex-row" data-controller="dashboard" data-dashboard-signups-value=<%= @sign_ups_by_day.to_json %> data-dashboard-completed-value=<%= @completed_lessons_by_day.to_json %>>
    <div class="content-card w-full md:w-1/2">
      <h2 class="mb-5 text-center text-xl font-bold">Completed Lessons</h2>
      <canvas id="chart"></canvas>
    </div>
    <div class="content-card w-full md:w-1/2">
      <h2 class="mb-5 text-center text-xl font-bold">Sign Ups</h2>
      <canvas id="sign_ups_chart"></canvas>
    </div>
  </div>

  <div class="my-6 w-full">
    <h2 class="mb-4 text-2xl font-bold">Most Popular Courses</h2>
    <div class="ui-table-wrap">
      <table class="ui-table">
        <thead>
          <tr>
            <th>Title</th>
            <th>Users</th>
          </tr>
        </thead>
        <tbody>
        <% @most_popular_courses.each do |course| %>
          <tr>
            <td><%= course.title %></td>
            <td><%= course.course_users.count %></td>
          </tr>
        <% end %>
        </tbody>
      </table>
    </div>
  </div>
</div>
