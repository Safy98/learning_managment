<div class="mx-auto flex w-full flex-col gap-6 pb-6 lg:flex-row-reverse">
  <div class="w-full space-y-4">
    <div>
      <% if notice.present? %>
        <p class="ui-notice" id="notice"><%= notice %></p>
      <% end %>
    </div>

    <%= (@lesson.video.present?) ? video_tag(@lesson.video, controls: true, class: "w-full rounded-2xl border border-brown-200 bg-black/90 shadow-md") : content_tag(:div, "No video available", class: "content-card text-center text-gray-500") %>

    <div class="content-card">
      <h1 class="text-2xl font-bold tracking-tight text-gray-900"><%= @lesson.title %></h1>
      <p class="mt-2 leading-relaxed text-gray-600"><%= @lesson.description %></p>
    </div>

    <div class="my-6 lg:mb-0">
      <%= link_to "Mark as complete", course_lesson_path(@course, @lesson), data: { "turbo-method" => :put }, class: "ui-btn bg-green-600 text-white-50 hover:bg-green-700" %>
    </div>
  </div>

  <div class="sidebar_container w-full lg:min-w-72 lg:max-w-sm lg:overflow-y-auto">
    <%= render "sidebar", course: @course, completed_lessons: @completed_lessons, paid_for_course: @paid_for_course %>
  </div>
</div>
